<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<!--Definition de la vue-->


	<!-- vue fleet type de permis tree-->
	<record model="ir.ui.view" id="view_fleet_type_permis_tree">
		<field name="name">view.fleet.type.permis.tree</field>
		<field name="model">fleet.type.permis</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<tree string="Liste des type de permis">
				<field name="name"/>
				<field name="description"/>
			</tree>
		</field>
	</record>

	<!-- vue fleet type de permis form-->
	<record model="ir.ui.view" id="view_fleet_type_permis_form">
		<field name="name">view.fleet.type.permis.form</field>
		<field name="model">fleet.type.permis</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<form string="Liste des types de permis">
				<sheet>
					<group>
						<field name="name" style="width:50%"/>
						<field name="description" style="width:50%"/>
					</group>
				</sheet>

			</form>
		</field>
	</record>

	<!-- Action fleet type de permis-->
	<record model="ir.actions.act_window" id="act_type_permis">
		<field name="name">Liste des types de permis</field>
		<field name="res_model">fleet.type.permis</field>
		<field name="view_mode">tree,form</field>
	</record>


	<record model="ir.ui.view" id="res_partner_form">
		<field name="name">res.partenr.form</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form"/>
		<field name="arch" type="xml">	
				<xpath expr="//field[@name='website']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>
				<xpath expr="//field[@name='title']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='function']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='category_id']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='website']" position="after">
					<field name = "permis"/>
					<field name = "dte_expire"/>
				</xpath>

				<xpath expr="//field[@name='vat']" position="after">
					<field name = "type_permis"/>
				</xpath>

				<xpath expr="//field[@name='vat']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='parent_id']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='type']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//field[@name='company_type']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//page[@name='sales_purchases']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>

				<xpath expr="//page[@name='contact_addresses']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>


				<xpath expr="//page[@name='internal_notes']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>
		</field>
    </record>

	<!-- Action fleet type de permis-->
	<record model="ir.actions.act_window" id="act_liste_conducteur">
		<field name="name">Liste des conducteurs</field>
		<field name="res_model">res.partner</field>
		<field name="view_mode">tree,form</field>
	</record>


	<!-- vue fleet type de permis form-->
	<record model="ir.ui.view" id="view_fleet_fuel_form">
		<field name="name">view.fleet.fuel..form</field>
		<field name="model">fleet.fuel</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<form string="Liste suivi du carburant">
				<sheet>
					<group>
						<group string="Détails du véhicule">
							<field name="vehicle_id" style="width:50%"/>
							<field name="license_plate" style="width:50%"/>
							<field name="conducteur" style="width:50%"/>
						</group>
						<group string="Détails du ravitaillement en carburant">
							<field name="dte" style="width:50%"/>
							<field name="prix" style="width:50%"/>
							<field name="quantite" style="width:50%"/>
							<field name="total" style="width:50%"/>
						</group>
						<group string="Informations supplémentaires du véhicule">
							<field name="kilometre" style="width:50%"/>
							<field name="reference" style="width:50%"/>
							<field name="observation" style="width:50%"/>
						</group>
					</group>
				</sheet>

			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_fleet_fuel_tree">
		<field name="name">view.fleet.fuel.tree</field>
		<field name="model">fleet.fuel</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<tree string="Liste suivi du carburant">
				<field name="dte"/>
				<field name="vehicle_id"/>
				<field name="license_plate"/>
				<field name="conducteur"/>
				<field name="quantite"/>
				<field name="total"/>
			</tree>
		</field>
	</record>


	<record model="ir.actions.act_window" id="act_fleet_fuel">
		<field name="name">Suivi du carburant</field>
		<field name="res_model">fleet.fuel</field>
		<field name="view_mode">tree,form</field>
	</record>


	<record model="ir.ui.view" id="fleet_vehicle_view_form">
		<field name="name">fleet.vehicle.form</field>
		<field name="model">fleet.vehicle</field>
		<field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
		<field name="arch" type="xml">	
				<xpath expr="//field[@name='car_value']" position="attributes">
					<attribute name = "invisible">True</attribute>
				</xpath>
				<xpath expr="//div[@name='co2']" position="attributes">
					<attribute name = "invisible">True</attribute>
					<label for="co2" attrs="{'invisible':[('co2','=',False)]}"/>
				</xpath>

				
		</field>
	</record>


	<record model="ir.actions.act_window" id="act_fleet_fuel">
		<field name="name">Suivi du carburant</field>
		<field name="res_model">fleet.fuel</field>
		<field name="view_mode">tree,form</field>
	</record>

	<record model="ir.ui.menu" id="fleet.fleet_vehicle_model_brand_menu">
		<field name="name">Constructeurs (Marques)</field>
	</record>

	<record id="fleet.fleet_vehicle_action" model="ir.actions.act_window">
		<field name="name">Constructeurs (Marques)</field>
	</record>







	<!-- Menu-->

		<menuitem id="fleet_vehicle_types_permis_menu" parent="fleet.fleet_configuration" name="Types de permis" sequence = "7" action="act_type_permis"/>
	<menuitem id="fleet_vehicle_drivers" parent="fleet.fleet_configuration" name="Conducteurs" sequence = "8" action="act_liste_conducteur"/>

		<menuitem id="fleet_vehicle_fuel_menu" parent="fleet.fleet_vehicles" name="Suivi du carburant" sequence = "9" action="act_fleet_fuel"/>

</odoo>


